<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Language Switcher Test - Clinic Website</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/remixicon.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/rtl.css" />
    
    <style>
        .test-container {
            padding: 50px 0;
            min-height: 100vh;
        }
        .test-section {
            margin-bottom: 50px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        .test-section h2 {
            margin-bottom: 20px;
            color: #007bff;
        }
        .status-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status-ltr {
            background: #d4edda;
            color: #155724;
        }
        .status-rtl {
            background: #fff3cd;
            color: #856404;
        }
        .language-info {
            padding: 15px;
            background: white;
            border-left: 4px solid #007bff;
            margin-bottom: 20px;
        }
        .demo-navbar {
            background: #007bff;
            padding: 15px;
            border-radius: 5px;
            color: white;
            margin-bottom: 20px;
        }
        .demo-hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 10px;
            color: white;
        }
        .demo-form {
            background: white;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .demo-form .form-group {
            margin-bottom: 15px;
        }
        .demo-form label {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-weight: 600;
        }
        .demo-form label i {
            margin-right: 8px;
        }
        body[dir="rtl"] .demo-form label i {
            margin-right: 0;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="container">
            <!-- Header with Language Switcher -->
            <div class="test-section">
                <h2>Language Switcher Test</h2>
                <div class="language-info">
                    <strong>Current Language:</strong> <span id="currentLang">English</span>
                    <span class="status-indicator status-ltr" id="dirStatus">LTR Mode</span>
                    <br>
                    <small><strong>HTML Lang:</strong> <code id="htmlLang">en</code> | <strong>Body Dir:</strong> <code id="bodyDir">ltr</code></small>
                </div>
                
                <div class="language-switcher d-inline-block">
                    <button type="button" class="btn btn-primary" title="Switch Language">
                        <i class="ri-global-line"></i>
                        <span class="lang-text ms-1">EN</span>
                    </button>
                </div>
                
                <p class="mt-3">Click the button above to switch between English (LTR) and Arabic (RTL)</p>
            </div>

            <!-- Navbar Demo -->
            <div class="test-section">
                <h2>Navbar Layout Test</h2>
                <div class="demo-navbar">
                    <div class="d-flex justify-content-between align-items-center">
                        <div><strong>Logo</strong></div>
                        <div class="d-flex gap-3">
                            <span>Home</span>
                            <span>Services</span>
                            <span>About</span>
                            <span>Contact</span>
                        </div>
                        <div>
                            <i class="ri-phone-line"></i>
                            <span class="ms-2">+123 456 7890</span>
                        </div>
                    </div>
                </div>
                <p><strong>Expected Behavior:</strong> In RTL mode, elements should swap positions (logo on right, menu items flow right-to-left, phone on left)</p>
            </div>

            <!-- Hero Section Demo -->
            <div class="test-section">
                <h2>Hero Section Layout Test</h2>
                <div class="demo-hero">
                    <div class="row">
                        <div class="col-lg-7">
                            <h1 class="mb-3">An Attractive Smile Makes A Lasting Impression!</h1>
                            <p class="mb-4">Professional dental care for everyone. Book your appointment today and experience the difference.</p>
                            
                            <div class="demo-form">
                                <h5 class="mb-3">Book Appointment</h5>
                                <div class="form-group">
                                    <label>
                                        <i class="ri-mail-line"></i>
                                        Email Address
                                    </label>
                                    <input type="email" class="form-control" placeholder="Your Email">
                                </div>
                                <div class="form-group">
                                    <label>
                                        <i class="ri-phone-line"></i>
                                        Phone Number
                                    </label>
                                    <input type="tel" class="form-control" placeholder="Your Phone">
                                </div>
                                <div class="form-group">
                                    <label>
                                        <i class="ri-calendar-line"></i>
                                        Date
                                    </label>
                                    <input type="date" class="form-control">
                                </div>
                                <button class="btn btn-primary w-100">Book Now</button>
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="text-center">
                                <div style="width: 200px; height: 200px; background: rgba(255,255,255,0.2); border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center;">
                                    <i class="ri-hospital-line" style="font-size: 80px;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <p class="mt-3"><strong>Expected Behavior:</strong> 
                    <br>- Text should align right in RTL mode
                    <br>- Form labels and icons should move to the right
                    <br>- Input text should be right-aligned
                    <br>- Form remains in same position (bottom of hero section)
                </p>
            </div>

            <!-- Text Direction Test -->
            <div class="test-section">
                <h2>Text Direction Test</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="p-3 bg-white rounded">
                            <h4>Left-aligned Text (Default)</h4>
                            <p>This is a paragraph of text. In LTR mode, it should be left-aligned. In RTL mode, it should be right-aligned.</p>
                            <ul>
                                <li>List item one</li>
                                <li>List item two</li>
                                <li>List item three</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="p-3 bg-white rounded">
                            <h4>Button with Icon</h4>
                            <button class="btn btn-primary">
                                <i class="ri-arrow-right-line"></i>
                                <span class="ms-2">Continue</span>
                            </button>
                            <br><br>
                            <button class="btn btn-secondary">
                                <i class="ri-download-line"></i>
                                <span class="ms-2">Download</span>
                            </button>
                        </div>
                    </div>
                </div>
                <p class="mt-3"><strong>Expected Behavior:</strong> Icons should move to the right side of buttons in RTL mode</p>
            </div>

            <!-- Margin/Padding Test -->
            <div class="test-section">
                <h2>Spacing Test (Margins & Padding)</h2>
                <div class="d-flex gap-3 bg-white p-3 rounded">
                    <div class="p-3 bg-primary text-white rounded">Box 1</div>
                    <div class="p-3 bg-success text-white rounded ms-auto">Box 2 (ms-auto)</div>
                    <div class="p-3 bg-danger text-white rounded">Box 3</div>
                </div>
                <p class="mt-3"><strong>Expected Behavior:</strong> Box 2 should move to opposite side in RTL mode (ms-auto becomes me-auto)</p>
            </div>

            <!-- Status Display -->
            <div class="test-section">
                <h2>Technical Information</h2>
                <div class="bg-white p-3 rounded">
                    <table class="table">
                        <tbody>
                            <tr>
                                <td><strong>Document Language:</strong></td>
                                <td><code id="docLang">en</code></td>
                            </tr>
                            <tr>
                                <td><strong>Body Direction:</strong></td>
                                <td><code id="docDir">ltr</code></td>
                            </tr>
                            <tr>
                                <td><strong>localStorage Key:</strong></td>
                                <td><code>site_language</code></td>
                            </tr>
                            <tr>
                                <td><strong>Stored Value:</strong></td>
                                <td><code id="storedLang">null</code></td>
                            </tr>
                            <tr>
                                <td><strong>RTL CSS Loaded:</strong></td>
                                <td><code id="rtlStatus">Checking...</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Instructions -->
            <div class="test-section">
                <h2>Testing Instructions</h2>
                <ol>
                    <li><strong>Click the language switcher button</strong> at the top of the page</li>
                    <li><strong>Observe layout changes:</strong>
                        <ul>
                            <li>Text alignment changes (left → right)</li>
                            <li>Navbar elements swap positions</li>
                            <li>Form labels and icons move to right</li>
                            <li>Buttons with icons adjust icon position</li>
                            <li>Margins and padding flip</li>
                        </ul>
                    </li>
                    <li><strong>Check persistence:</strong> Reload the page - language should be remembered</li>
                    <li><strong>Test responsiveness:</strong> Resize browser window to test mobile layout</li>
                    <li><strong>Verify animations:</strong> All animations should still work smoothly</li>
                </ol>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/language-switcher.js"></script>
    
    <!-- Status Update Script -->
    <script>
        function updateStatus() {
            const html = document.documentElement;
            const body = document.body;
            const lang = html.getAttribute('lang');
            const dir = body.getAttribute('dir');
            const storedLang = localStorage.getItem('site_language');
            
            // Update display
            document.getElementById('currentLang').textContent = lang === 'ar' ? 'Arabic (العربية)' : 'English';
            document.getElementById('htmlLang').textContent = lang;
            document.getElementById('bodyDir').textContent = dir;
            document.getElementById('docLang').textContent = lang;
            document.getElementById('docDir').textContent = dir;
            document.getElementById('storedLang').textContent = storedLang || 'null';
            
            // Update status indicator
            const statusEl = document.getElementById('dirStatus');
            if (dir === 'rtl') {
                statusEl.textContent = 'RTL Mode (Arabic)';
                statusEl.className = 'status-indicator status-rtl';
            } else {
                statusEl.textContent = 'LTR Mode (English)';
                statusEl.className = 'status-indicator status-ltr';
            }
            
            // Check RTL CSS
            const stylesheets = Array.from(document.styleSheets);
            const rtlLoaded = stylesheets.some(sheet => {
                try {
                    return sheet.href && sheet.href.includes('rtl.css');
                } catch(e) {
                    return false;
                }
            });
            document.getElementById('rtlStatus').textContent = rtlLoaded ? '✅ Loaded' : '❌ Not Found';
            document.getElementById('rtlStatus').style.color = rtlLoaded ? 'green' : 'red';
        }
        
        // Initial update
        updateStatus();
        
        // Update on language change
        document.addEventListener('click', function(e) {
            if (e.target.closest('.language-switcher')) {
                setTimeout(updateStatus, 100);
            }
        });
        
        // Update every second to catch changes
        setInterval(updateStatus, 1000);
    </script>
</body>
</html>
